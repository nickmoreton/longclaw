[tox]
envlist =
    py{38,39,310,311}-dj{31}-wt{211,212}
    
[testenv]
setenv =
    PYTHONPATH = {toxinidir}:{toxinidir}/longclaw
commands = coverage run --source longclaw runtests.py
           coverage xml --omit=*/apps.py,*/migrations/*,*/__init__.py,*/gateways/braintree.py,*/gateways/stripe.py,*/bin/longclaw.py

[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311

deps =
    dj31: Django>=3.1,<3.2

    wt211: wagtail>=2.11,<2.12
    wt212: wagtail>=2.12,<2.13

    -r{toxinidir}/requirements_dev.txt
basepython =
    py37: python3.7
    py38: python3.8
    py39: python3.9
    py310: python3.10
    py311: python3.11
